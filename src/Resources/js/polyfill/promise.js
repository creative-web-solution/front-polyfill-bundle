/*!
 * @overview es6-promise - a tiny implementation of Promises/A+.
 * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
 * @license   Licensed under MIT license
 * See https://raw.githubusercontent.com/stefanpenner/es6-promise/master/LICENSE
 * @version   v4.2.6+9869a4bc
 */
(function(n,e){typeof exports==="object"&&typeof module!=="undefined"?module.t=e():typeof define==="function"&&define.i?define(e):n.u=e()})(this,function(){"use strict";function t(n){var e=typeof n;return n!==null&&(e==="object"||e==="function")}function c(n){return typeof n==="function"}var n=void 0;if(Array.isArray){n=Array.isArray}else{n=function(n){return Object.prototype.toString.call(n)==="[object Array]"}}var r=n;var i=0;var e=void 0;var u=void 0;var f=function n(e,t){j[i]=e;j[i+1]=t;i+=2;if(i===2){if(u){u(A)}else{g()}}};function o(n){u=n}function s(n){f=n}var a=typeof window!=="undefined"?window:undefined;var v=a||{};var l=v.MutationObserver||v.WebKitMutationObserver;var h=typeof self==="undefined"&&typeof process!=="undefined"&&{}.toString.call(process)==="[object process]";var d=typeof Uint8ClampedArray!=="undefined"&&typeof importScripts!=="undefined"&&typeof MessageChannel!=="undefined";function p(){return function(){return process.o(A)}}function y(){if(typeof e!=="undefined"){return function(){e(A)}}return b()}function w(){var n=0;var e=new l(A);var t=document.createTextNode("");e.observe(t,{s:true});return function(){t.data=n=++n%2}}function m(){var n=new MessageChannel;n.port1.onmessage=A;return function(){return n.port2.postMessage(0)}}function b(){var n=setTimeout;return function(){return n(A,1)}}var j=new Array(1e3);function A(){for(var n=0;n<i;n+=2){var e=j[n];var t=j[n+1];e(t);j[n]=undefined;j[n+1]=undefined}i=0}function E(){try{var n=Function("return this")().v("vertx");e=n.l||n.h;return y()}catch(n){return b()}}var g=void 0;if(h){g=p()}else if(l){g=w()}else if(d){g=m()}else if(a===undefined&&typeof require==="function"){g=E()}else{g=b()}function T(n,e){var t=this;var r=new this.constructor(F);if(r[C]===undefined){X(r)}var i=t.p;if(i){var u=arguments[i-1];f(function(){return Q(i,r,u,t.m)})}else{K(t,r,n,e)}return r}function M(n){var e=this;if(n&&typeof n==="object"&&n.constructor===e){return n}var t=new e(F);G(t,n);return t}var C=Math.random().toString(36).substring(2);function F(){}var P=void 0;var Y=1;var k=2;var x={error:null};function O(){return new TypeError("You cannot resolve a promise with itself")}function S(){return new TypeError("A promises callback cannot return that same promise.")}function q(n){try{return n.then}catch(n){x.error=n;return x}}function D(n,e,t,r){try{n.call(e,t,r)}catch(n){return n}}function U(n,r,i){f(function(e){var t=false;var n=D(i,r,function(n){if(t){return}t=true;if(r!==n){G(e,n)}else{I(e,n)}},function(n){if(t){return}t=true;J(e,n)},"Settle: "+(e.j||" unknown promise"));if(!t&&n){t=true;J(e,n)}},n)}function z(e,n){if(n.p===Y){I(e,n.m)}else if(n.p===k){J(e,n.m)}else{K(n,undefined,function(n){return G(e,n)},function(n){return J(e,n)})}}function B(n,e,t){if(e.constructor===n.constructor&&t===T&&e.constructor.resolve===M){z(n,e)}else{if(t===x){J(n,x.error);x.error=null}else if(t===undefined){I(n,e)}else if(c(t)){U(n,e,t)}else{I(n,e)}}}function G(n,e){if(n===e){J(n,O())}else if(t(e)){B(n,e,q(e))}else{I(n,e)}}function H(n){if(n.A){n.A(n.m)}L(n)}function I(n,e){if(n.p!==P){return}n.m=e;n.p=Y;if(n.g.length!==0){f(L,n)}}function J(n,e){if(n.p!==P){return}n.p=k;n.m=e;f(H,n)}function K(n,e,t,r){var i=n.g;var u=i.length;n.A=null;i[u]=e;i[u+Y]=t;i[u+k]=r;if(u===0&&n.p){f(L,n)}}function L(n){var e=n.g;var t=n.p;if(e.length===0){return}var r=void 0,i=void 0,u=n.m;for(var f=0;f<e.length;f+=3){r=e[f];i=e[f+t];if(r){Q(t,r,i,u)}else{i(u)}}n.g.length=0}function N(n,e){try{return n(e)}catch(n){x.error=n;return x}}function Q(n,e,t,r){var i=c(t),u=void 0,f=void 0,o=void 0,s=void 0;if(i){u=N(t,r);if(u===x){s=true;f=u.error;u.error=null}else{o=true}if(e===u){J(e,S());return}}else{u=r;o=true}if(e.p!==P){}else if(i&&o){G(e,u)}else if(s){J(e,f)}else if(n===Y){I(e,u)}else if(n===k){J(e,u)}}function R(t,n){try{n(function n(e){G(t,e)},function n(e){J(t,e)})}catch(n){J(t,n)}}var V=0;function W(){return V++}function X(n){n[C]=V++;n.p=undefined;n.m=undefined;n.g=[]}function Z(){return new Error("Array Methods must be provided an Array")}var $=function(){function n(n,e){this.T=n;this.M=new n(F);if(!this.M[C]){X(this.M)}if(r(e)){this.length=e.length;this.C=e.length;this.m=new Array(this.length);if(this.length===0){I(this.M,this.m)}else{this.length=this.length||0;this.F(e);if(this.C===0){I(this.M,this.m)}}}else{J(this.M,Z())}}n.prototype.F=function n(e){for(var t=0;this.p===P&&t<e.length;t++){this.P(e[t],t)}};n.prototype.P=function n(e,t){var r=this.T;var i=r.resolve;if(i===M){var u=q(e);if(u===T&&e.p!==P){this.Y(e.p,t,e.m)}else if(typeof u!=="function"){this.C--;this.m[t]=e}else if(r===un){var f=new r(F);B(f,e,u);this.k(f,t)}else{this.k(new r(function(n){return n(e)}),t)}}else{this.k(i(e),t)}};n.prototype.Y=function n(e,t,r){var i=this.M;if(i.p===P){this.C--;if(e===k){J(i,r)}else{this.m[t]=r}}if(this.C===0){I(i,this.m)}};n.prototype.k=function n(e,t){var r=this;K(e,undefined,function(n){return r.Y(Y,t,n)},function(n){return r.Y(k,t,n)})};return n}();function _(n){return new $(this,n).M}function nn(i){var u=this;if(!r(i)){return new u(function(n,e){return e(new TypeError("You must pass an array to race."))})}else{return new u(function(n,e){var t=i.length;for(var r=0;r<t;r++){u.resolve(i[r]).then(n,e)}})}}function en(n){var e=this;var t=new e(F);J(t,n);return t}function tn(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function rn(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}var un=function(){function e(n){this[C]=W();this.m=this.p=undefined;this.g=[];if(F!==n){typeof n!=="function"&&tn();this instanceof e?R(this,n):rn()}}e.prototype.catch=function n(e){return this.then(null,e)};e.prototype.O=function n(e){var t=this;var r=t.constructor;if(c(e)){return t.then(function(n){return r.resolve(e()).then(function(){return n})},function(n){return r.resolve(e()).then(function(){throw n})})}return t.then(e,e)};return e}();un.prototype.then=T;un.all=_;un.race=nn;un.resolve=M;un.reject=en;un.S=o;un.q=s;un.D=f;function fn(){var n=void 0;if(typeof global!=="undefined"){n=global}else if(typeof self!=="undefined"){n=self}else{try{n=Function("return this")()}catch(n){throw new Error("polyfill failed because global object is unavailable in this environment")}}var e=n.Promise;if(e){var t=null;try{t=Object.prototype.toString.call(e.resolve())}catch(n){}if(t==="[object Promise]"&&!e.cast){return}}n.Promise=un}un.U=fn;un.Promise=un;un.U();return un});